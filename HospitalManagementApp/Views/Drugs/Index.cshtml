@model ICollection<HospitalManagementApp.Models.Drugs>
@using HospitalManagementApp.Controllers

    @{
    ViewData["Title"] = "Index";
    }

    <h1>Drugs Management</h1>

    <p>
    <a asp-action="Add" class="btn btn-primary">Add New Drug</a>
    </p>


    @using (Html.BeginForm("Search","Drugs",FormMethod.Get)){
        <p>
            Find Drug: @Html.TextBox("SearchingString",ViewBag.CurrentFilter as string)
            <input type="submit" value="Search" />
        </p>

    }



    <table class="table">
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.FirstOrDefault().IdOfDrug)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.FirstOrDefault().Name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.FirstOrDefault().Status)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.FirstOrDefault().Quantity)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.FirstOrDefault().ReceiptDay)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.FirstOrDefault().ManufactureDate)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.FirstOrDefault().ExpirationDate)
                </th>
                <th></th>
            </tr>
        </thead>

        <tbody>
            @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(model => item.IdOfDrug)
                </td>
                <td>
                    @Html.DisplayFor(model => item.Name)
                </td>
                <td>
                    @Html.DisplayFor(model => item.Status)
                </td>
                <td>
                    @Html.DisplayFor(model => item.Quantity)
                </td>
                <td>
                    @Html.DisplayFor(model => item.ReceiptDay)
                </td>
                <td>
                    @Html.DisplayFor(model => item.ManufactureDate)
                </td>
                <td>
                    @Html.DisplayFor(model => item.ExpirationDate)
                </td>
                <td>
                    <a asp-action="Edit" class="btn btn-primary" asp-route-id="@item.IdOfDrug">Edit</a> |
                    <a asp-action="Details" class="btn btn-primary" asp-route-id="@item.IdOfDrug">Details</a> |
                    <button type="button" class="btn btn-danger btn-delete-drug" value="@item.IdOfDrug">Delete</button>
                </td>
            </tr>
        }
        </tbody>

    </table>

@section Scripts {
    <script src="/js/change_quantity.js"></script>
}